(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[863],{489:(e,s,a)=>{"use strict";a.d(s,{b:()=>l});var t=a(2115),i=a(7602),r=a(5155),n=t.forwardRef((e,s)=>(0,r.jsx)(i.sG.label,{...e,ref:s,onMouseDown:s=>{var a;s.target.closest("button, input, select, textarea")||(null==(a=e.onMouseDown)||a.call(e,s),!s.defaultPrevented&&s.detail>1&&s.preventDefault())}}));n.displayName="Label";var l=n},5142:(e,s,a)=>{"use strict";a.d(s,{p:()=>r});var t=a(5155);a(2115);var i=a(4269);function r(e){let{className:s,type:a,...r}=e;return(0,t.jsx)("input",{type:a,"data-slot":"input",className:(0,i.cn)("file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input flex h-9 w-full min-w-0 rounded-md border bg-transparent px-3 py-1 text-base shadow-xs transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",s),...r})}},5279:(e,s,a)=>{Promise.resolve().then(a.bind(a,9387))},6444:(e,s,a)=>{"use strict";a.d(s,{Label:()=>n});var t=a(5155);a(2115);var i=a(489),r=a(4269);function n(e){let{className:s,...a}=e;return(0,t.jsx)(i.b,{"data-slot":"label",className:(0,r.cn)("flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50",s),...a})}},9387:(e,s,a)=>{"use strict";a.r(s),a.d(s,{default:()=>w});var t=a(5155),i=a(2115),r=a(63),n=a(3998),l=a(5142),c=a(6444),d=a(6948),o=a(1647),m=a(5626),x=a(1873),h=a(6485),p=a(6983),u=a(1169),g=a(1847);let f=(0,g.A)("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]),j=(0,g.A)("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);var v=a(2529),y=a(8874),N=a(9347),b=a(9309);function w(){let e,s=(0,r.useParams)(),a=(0,r.useRouter)(),g=s.share_code,[w,k]=(0,i.useState)(null),[S,_]=(0,i.useState)([]),[C,A]=(0,i.useState)(!0),[E,R]=(0,i.useState)(null),[$,D]=(0,i.useState)({going:0,not_going:0,maybe:0}),[B,P]=(0,i.useState)(""),[T,Z]=(0,i.useState)(""),[I,L]=(0,i.useState)(null),[M,O]=(0,i.useState)(!1);(0,i.useEffect)(()=>{g&&(()=>{try{A(!0),R(null);let e=localStorage.getItem("plans");if(!e)return void R("Event not found");let s=JSON.parse(e).find(e=>e.id===g);if(!s)return void R("Event not found");k(s);let a=localStorage.getItem("rsvps"),t=a?JSON.parse(a).filter(e=>e.plan_id===g):[];_(t);let i={going:t.filter(e=>"going"===e.status).length,not_going:t.filter(e=>"not_going"===e.status).length,maybe:t.filter(e=>"maybe"===e.status).length};D(i);let r=t.find(e=>e.user_email===T);r&&(L(r.status),P(r.user_name))}catch(e){console.error("Error fetching data:",e),R("Failed to load event details")}finally{A(!1)}})()},[g,T]);let V=e=>{if(!B.trim()||!T.trim())return void alert("Please enter your name and email first");O(!0);try{let s=localStorage.getItem("rsvps"),a=s?JSON.parse(s):[];if(a.find(e=>e.user_email===T&&e.plan_id===g)){let s=a.map(s=>s.user_email===T&&s.plan_id===g?{...s,status:e,user_name:B,created_at:new Date().toISOString()}:s);localStorage.setItem("rsvps",JSON.stringify(s))}else{let s={id:"rsvp_".concat(Date.now(),"_").concat(Math.random().toString(36).substr(2,9)),plan_id:g,user_email:T,user_name:B,status:e,created_at:new Date().toISOString()},t=[...a,s];localStorage.setItem("rsvps",JSON.stringify(t))}let t=JSON.parse(localStorage.getItem("rsvps")||"[]").filter(e=>e.plan_id===g);_(t);let i={going:t.filter(e=>"going"===e.status).length,not_going:t.filter(e=>"not_going"===e.status).length,maybe:t.filter(e=>"maybe"===e.status).length};D(i),L(e)}catch(e){console.error("Error updating RSVP:",e),alert("Failed to save RSVP. Please try again.")}finally{O(!1)}};return C?(0,t.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-slate-100 dark:from-slate-900 dark:to-slate-800 flex items-center justify-center",children:(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-[#ffb829] mx-auto mb-4"}),(0,t.jsx)("p",{className:"text-slate-600 dark:text-slate-300",children:"Loading event details..."})]})}):E||!w?(0,t.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-slate-100 dark:from-slate-900 dark:to-slate-800 flex items-center justify-center",children:(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsx)("p",{className:"text-slate-600 dark:text-slate-300 mb-4",children:E||"Event not found"}),(0,t.jsx)(n.$,{onClick:()=>a.push("/"),className:"mt-4",children:"Back to Home"})]})}):(0,t.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-slate-100 dark:from-slate-900 dark:to-slate-800",children:(0,t.jsxs)("div",{className:"container mx-auto px-4 py-8",children:[(0,t.jsxs)(n.$,{variant:"ghost",onClick:()=>a.push("/"),className:"mb-6",children:[(0,t.jsx)(m.A,{className:"w-4 h-4 mr-2"}),"Back to Home"]}),(0,t.jsxs)("div",{className:"text-center mb-8",children:[(0,t.jsx)("h1",{className:"text-4xl font-bold text-slate-900 dark:text-white mb-4",children:w.eventName||w.name}),(0,t.jsxs)("div",{className:"flex flex-wrap items-center justify-center gap-3 mb-4",children:[(0,t.jsx)(o.E,{variant:"secondary",className:"text-lg px-4 py-2",children:w.activityType||w.activity_type}),w.location&&(0,t.jsxs)(o.E,{variant:"outline",className:"text-lg px-4 py-2 flex items-center gap-2",children:[(0,t.jsx)(x.A,{className:"w-4 h-4"}),w.location.name]})]}),(0,t.jsx)("p",{className:"text-slate-600 dark:text-slate-400 mt-2",children:"You've been invited to this event!"})]}),(0,t.jsxs)("div",{className:"max-w-4xl mx-auto grid grid-cols-1 lg:grid-cols-3 gap-8",children:[(0,t.jsxs)("div",{className:"lg:col-span-2",children:[(0,t.jsxs)(d.Zp,{className:"mb-6",children:[(0,t.jsx)(d.aR,{children:(0,t.jsxs)(d.ZB,{className:"flex items-center gap-2",children:[(0,t.jsx)(h.A,{className:"w-5 h-5"}),"Event Details"]})}),(0,t.jsxs)(d.Wu,{className:"space-y-4",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)(h.A,{className:"w-5 h-5 text-[#ffb829]"}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"font-medium",children:new Date(w.date).toLocaleDateString("en-US",{weekday:"long",month:"long",day:"numeric",year:"numeric"})}),(0,t.jsx)("p",{className:"text-sm text-slate-600 dark:text-slate-400",children:"Date"})]})]}),(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)(p.A,{className:"w-5 h-5 text-green-600"}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"font-medium",children:(e=w.time,new Date("2000-01-01T".concat(e)).toLocaleTimeString("en-US",{hour:"numeric",minute:"2-digit",hour12:!0}))}),(0,t.jsx)("p",{className:"text-sm text-slate-600 dark:text-slate-400",children:"Time"})]})]}),(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)(x.A,{className:"w-5 h-5 text-[#ffb829]"}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"font-medium",children:"Location TBD"}),(0,t.jsx)("p",{className:"text-sm text-slate-600 dark:text-slate-400",children:"Venue"})]})]})]})]}),(0,t.jsxs)(d.Zp,{className:"mb-6",children:[(0,t.jsxs)(d.aR,{children:[(0,t.jsxs)(d.ZB,{className:"flex items-center gap-2",children:[(0,t.jsx)(u.A,{className:"w-5 h-5"}),"Participants (",S.length,")"]}),(0,t.jsx)(d.BT,{children:"People who have responded to this event"})]}),(0,t.jsx)(d.Wu,{children:S.length>0?(0,t.jsx)("div",{className:"space-y-3",children:S.map(e=>(0,t.jsxs)("div",{className:"flex items-center justify-between p-3 bg-slate-50 dark:bg-slate-800 rounded-lg",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)("div",{className:"w-8 h-8 bg-slate-200 dark:bg-slate-700 rounded-full flex items-center justify-center",children:(0,t.jsx)("span",{className:"text-sm font-medium text-slate-600 dark:text-slate-300",children:e.user_name.charAt(0).toUpperCase()})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"font-medium text-slate-900 dark:text-white",children:e.user_name}),(0,t.jsx)("p",{className:"text-sm text-slate-500 dark:text-slate-400",children:e.user_email})]})]}),(0,t.jsx)(o.E,{variant:"going"===e.status?"default":"maybe"===e.status?"secondary":"destructive",children:"going"===e.status?"Going":"maybe"===e.status?"Maybe":"Not Going"})]},e.id))}):(0,t.jsxs)("div",{className:"text-center py-8 text-slate-500 dark:text-slate-400",children:[(0,t.jsx)(u.A,{className:"w-12 h-12 mx-auto mb-3 text-slate-300"}),(0,t.jsx)("p",{children:"No responses yet"}),(0,t.jsx)("p",{className:"text-sm",children:"Be the first to RSVP!"})]})})]}),(0,t.jsxs)(d.Zp,{className:"mb-6",children:[(0,t.jsxs)(d.aR,{children:[(0,t.jsxs)(d.ZB,{className:"flex items-center gap-2",children:[(0,t.jsx)(u.A,{className:"w-5 h-5"}),"RSVP to this Event"]}),(0,t.jsx)(d.BT,{children:"Let us know if you're coming by entering your details below"})]}),(0,t.jsxs)(d.Wu,{className:"space-y-4",children:[(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(c.Label,{htmlFor:"name",children:"Your Name"}),(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)(f,{className:"absolute left-3 top-3 h-4 w-4 text-slate-500"}),(0,t.jsx)(l.p,{id:"name",type:"text",placeholder:"Enter your name",value:B,onChange:e=>P(e.target.value),className:"pl-10",required:!0})]})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(c.Label,{htmlFor:"email",children:"Your Email"}),(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)(j,{className:"absolute left-3 top-3 h-4 w-4 text-slate-500"}),(0,t.jsx)(l.p,{id:"email",type:"email",placeholder:"Enter your email",value:T,onChange:e=>Z(e.target.value),className:"pl-10",required:!0})]})]})]}),(0,t.jsxs)("div",{className:"grid grid-cols-3 gap-4",children:[(0,t.jsxs)(n.$,{variant:"going"===I?"default":"outline",onClick:()=>V("going"),disabled:M||!B.trim()||!T.trim(),className:"flex flex-col items-center gap-2 py-6",children:[(0,t.jsx)(v.A,{className:"w-6 h-6"}),(0,t.jsx)("span",{children:"I'm Going"}),(0,t.jsx)(o.E,{variant:"secondary",children:$.going})]}),(0,t.jsxs)(n.$,{variant:"maybe"===I?"default":"outline",onClick:()=>V("maybe"),disabled:M||!B.trim()||!T.trim(),className:"flex flex-col items-center gap-2 py-6",children:[(0,t.jsx)("span",{className:"text-lg",children:"\uD83E\uDD14"}),(0,t.jsx)("span",{children:"Maybe"}),(0,t.jsx)(o.E,{variant:"secondary",children:$.maybe})]}),(0,t.jsxs)(n.$,{variant:"not_going"===I?"default":"outline",onClick:()=>V("not_going"),disabled:M||!B.trim()||!T.trim(),className:"flex flex-col items-center gap-2 py-6",children:[(0,t.jsx)(y.A,{className:"w-6 h-6"}),(0,t.jsx)("span",{children:"Can't Make It"}),(0,t.jsx)(o.E,{variant:"secondary",children:$.not_going})]})]}),I&&(0,t.jsx)("div",{className:"text-center p-4 bg-green-50 dark:bg-green-900/20 rounded-lg",children:(0,t.jsxs)("p",{className:"text-green-800 dark:text-green-200 font-medium",children:["Thanks ",B,"! You're ","going"===I?"going":"maybe"===I?"maybe going":"not going"," to this event!"]})}),(!B.trim()||!T.trim())&&(0,t.jsx)("p",{className:"text-sm text-slate-500 dark:text-slate-400 text-center",children:"Please enter your name and email to RSVP"})]})]}),(0,t.jsxs)(d.Zp,{children:[(0,t.jsxs)(d.aR,{children:[(0,t.jsxs)(d.ZB,{className:"flex items-center gap-2",children:[(0,t.jsx)(x.A,{className:"w-5 h-5 text-[#ffb829]"}),w.venue?"Selected Venue":"Suggested Venues"]}),(0,t.jsx)(d.BT,{children:w.venue?"The venue chosen for this event":"Great places for your ".concat(w.activityType||w.activity_type," event")})]}),(0,t.jsx)(d.Wu,{children:w.venue?(0,t.jsx)(b.A,{venue:w.venue,showFullDetails:!0,className:"border-2 border-[#ffb829]/20 bg-[#ffb829]/5 rounded-lg p-4"}):(0,t.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:(e=>{let s={dinner:[{id:"1",name:"The Copper Table",type:"Restaurant",cuisine:"Modern American",rating:4.7,price:"$$$",distance:"0.3 miles away",address:"123 Main Street",description:"Upscale farm-to-table dining with seasonal ingredients"},{id:"2",name:"Sakura Sushi Bar",type:"Restaurant",cuisine:"Japanese",rating:4.5,price:"$$",distance:"0.8 miles away",address:"456 Oak Avenue",description:"Authentic Japanese sushi and sashimi"},{id:"3",name:"Bella Vista Trattoria",type:"Restaurant",cuisine:"Italian",rating:4.6,price:"$$",distance:"1.2 miles away",address:"789 Pine Street",description:"Family-owned Italian restaurant with homemade pasta"}],drinks:[{id:"4",name:"The Velvet Lounge",type:"Cocktail Bar",cuisine:"Craft Cocktails",rating:4.4,price:"$$",distance:"0.5 miles away",address:"321 Elm Street",description:"Sophisticated cocktail bar with artisanal drinks"},{id:"5",name:"Hops & Grains",type:"Brewery",cuisine:"Craft Beer",rating:4.3,price:"$",distance:"0.9 miles away",address:"654 Maple Drive",description:"Local brewery with food trucks and live music"},{id:"6",name:"Skyline Rooftop",type:"Rooftop Bar",cuisine:"Wine & Cocktails",rating:4.8,price:"$$$",distance:"1.1 miles away",address:"987 Hilltop Road",description:"Rooftop bar with panoramic city views"}],coffee:[{id:"7",name:"Brew & Bean",type:"Coffee Shop",cuisine:"Artisan Coffee",rating:4.6,price:"$",distance:"0.2 miles away",address:"147 Coffee Lane",description:"Third-wave coffee shop with house-roasted beans"},{id:"8",name:"The Daily Grind",type:"Caf\xe9",cuisine:"Coffee & Pastries",rating:4.4,price:"$",distance:"0.6 miles away",address:"258 Bakery Street",description:"Cozy caf\xe9 with fresh pastries and specialty drinks"},{id:"9",name:"Urban Roast",type:"Coffee Roastery",cuisine:"Premium Coffee",rating:4.7,price:"$$",distance:"1.0 miles away",address:"369 Roast Way",description:"Coffee roastery with tasting room and light bites"}],activity:[{id:"10",name:"Adventure Zone",type:"Entertainment Center",cuisine:"Activities",rating:4.5,price:"$$",distance:"0.4 miles away",address:"741 Fun Street",description:"Indoor rock climbing, escape rooms, and arcade games"},{id:"11",name:"Riverside Park",type:"Outdoor Recreation",cuisine:"Nature",rating:4.6,price:"$",distance:"0.7 miles away",address:"852 River Road",description:"Scenic park with hiking trails and picnic areas"},{id:"12",name:"Creative Studio",type:"Art Workshop",cuisine:"Creative",rating:4.3,price:"$$",distance:"1.3 miles away",address:"963 Art Avenue",description:"Art classes, pottery, and creative workshops"}]};return s[e]||s.activity})(w.activityType||w.activity_type||"dining").map(e=>(0,t.jsx)(d.Zp,{className:"hover:shadow-md transition-shadow border-2 hover:border-[#ffb829]/30 dark:hover:border-[#ffb829]/60",children:(0,t.jsx)(d.Wu,{className:"p-4",children:(0,t.jsxs)("div",{className:"space-y-3",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h4",{className:"font-semibold text-slate-900 dark:text-white text-sm line-clamp-2",children:e.name}),(0,t.jsxs)("p",{className:"text-xs text-slate-600 dark:text-slate-400",children:[e.type," â€¢ ",e.cuisine||e.type]})]}),(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{className:"flex items-center gap-1",children:[(0,t.jsx)(N.A,{className:"w-3 h-3 fill-yellow-400 text-yellow-400"}),(0,t.jsx)("span",{className:"text-xs font-medium text-slate-700 dark:text-slate-300",children:e.rating})]}),(0,t.jsx)(o.E,{variant:"outline",className:"text-xs px-2 py-1",children:e.price})]}),(0,t.jsxs)("div",{className:"flex items-center gap-1",children:[(0,t.jsx)(x.A,{className:"w-3 h-3 text-slate-500"}),(0,t.jsx)("span",{className:"text-xs text-slate-600 dark:text-slate-400",children:e.distance})]}),(0,t.jsx)("p",{className:"text-xs text-slate-600 dark:text-slate-400 line-clamp-2",children:e.description})]})})},e.id))})})]})]}),(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)(d.Zp,{children:[(0,t.jsx)(d.aR,{children:(0,t.jsx)(d.ZB,{className:"text-lg",children:"RSVP Summary"})}),(0,t.jsxs)(d.Wu,{className:"space-y-3",children:[(0,t.jsxs)("div",{className:"flex justify-between items-center",children:[(0,t.jsxs)("span",{className:"flex items-center gap-2",children:[(0,t.jsx)(v.A,{className:"w-4 h-4 text-green-600"}),"Going"]}),(0,t.jsx)(o.E,{variant:"secondary",children:$.going})]}),(0,t.jsxs)("div",{className:"flex justify-between items-center",children:[(0,t.jsxs)("span",{className:"flex items-center gap-2",children:[(0,t.jsx)("span",{className:"text-lg",children:"\uD83E\uDD14"}),"Maybe"]}),(0,t.jsx)(o.E,{variant:"secondary",children:$.maybe})]}),(0,t.jsxs)("div",{className:"flex justify-between items-center",children:[(0,t.jsxs)("span",{className:"flex justify-between items-center",children:[(0,t.jsx)(y.A,{className:"w-4 h-4 text-red-600"}),"Not Going"]}),(0,t.jsx)(o.E,{variant:"secondary",children:$.not_going})]}),(0,t.jsx)("div",{className:"pt-3 border-t",children:(0,t.jsxs)("div",{className:"flex justify-between items-center font-medium",children:[(0,t.jsx)("span",{children:"Total Responses"}),(0,t.jsx)(o.E,{variant:"outline",children:$.going+$.maybe+$.not_going})]})})]})]}),(0,t.jsxs)(d.Zp,{children:[(0,t.jsx)(d.aR,{children:(0,t.jsx)(d.ZB,{className:"text-lg",children:"Event Info"})}),(0,t.jsxs)(d.Wu,{className:"space-y-3 text-sm",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"font-medium",children:"Created"}),(0,t.jsx)("p",{className:"text-slate-600 dark:text-slate-400",children:new Date(w.createdAt||Date.now()).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"font-medium",children:"Share Code"}),(0,t.jsx)("p",{className:"text-slate-600 dark:text-slate-400 font-mono text-xs",children:g})]})]})]}),(0,t.jsxs)(d.Zp,{children:[(0,t.jsx)(d.aR,{children:(0,t.jsx)(d.ZB,{className:"text-lg",children:"How to Use"})}),(0,t.jsx)(d.Wu,{className:"space-y-3 text-sm",children:(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)("p",{className:"text-slate-600 dark:text-slate-400",children:"1. Enter your name and email above"}),(0,t.jsx)("p",{className:"text-slate-600 dark:text-slate-400",children:"2. Click one of the RSVP buttons"}),(0,t.jsx)("p",{className:"text-slate-600 dark:text-slate-400",children:"3. Your response will be saved"})]})})]})]})]})]})})}}},e=>{e.O(0,[707,691,940,441,255,358],()=>e(e.s=5279)),_N_E=e.O()}]);